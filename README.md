# highload

## Инструкция по локальному запуску приложения

- выполнить команду `docker compose up -d`
  - будет поднята бд postgres
  - сбилдится и запустится spring приложение
  - таблицы бд будут созданы при запуске приложения автоматически
  - выполнить bash скрипт `src/main/resources/import/import-people.sh`, который заполнить таблицу `users` данными из файла `people.v2.csv`
    - в скрипте надо указать путь к `psql.exe`
- Postman-коллекции расположена по пути `/postman/highload.postman_collection.json`

## todo
1. ~~Сгенерировать любым способ 1,000,000 анкет. Имена и Фамилии должны быть реальными, чтобы учитывать селективность индекса. Так же можно воспользовать уже готовым списком как основой.~~
2. ~~Реализовать функционал поиска анкет по префиксу имени и фамилии (одновременно) в вашей социальной сети (реализовать метод /user/search из спецификации) (запрос в форме firstName LIKE ? and secondName LIKE ?). Сортировать вывод по id анкеты.~~
3. Провести нагрузочные тесты этого метода. Поиграть с количеством одновременных запросов. 1/10/100/1000. 
4. Построить графики и сохранить их в отчет 
5. Сделать подходящий индекс. 
6. Повторить пункт 3 и 4. 
7. В качестве результата предоставить отчет в котором должны быть:
   - графики latency до индекса;
   - графики throughput до индекса;
   - графики latency после индекса;
   - графики throughput после индекса;
   - запрос добавления индекса;
   - explain запросов после индекса;
   - объяснение почему индекс именно такой;
8. Обновить postman-коллекцию
9. Проверить работу docker образа